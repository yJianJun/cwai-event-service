{
    "swagger": "2.0",
    "info": {
        "description": "监听CTCCL上报事件服务",
        "title": "CTCCL事件监听",
        "termsOfService": "http://example.com/terms/",
        "contact": {
            "name": "yejianjun",
            "url": "http://www.example.com/support",
            "email": "yejianjun@ideal.sh.cn"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:8081",
    "basePath": "/ctccl",
    "paths": {
        "/apis/v1/cwai-event-service/list": {
            "post": {
                "description": "根据请求参数从ElasticSearch中分页获取事件。如果请求类型为\"task\"，则会执行事件搜索。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "分页获取事件",
                "parameters": [
                    {
                        "description": "分页请求参数，包括查询类型(queryType)和大小(size)",
                        "name": "pageRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.EventPage"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "返回分页信息，包括总数(totalCount)、总页数(totalPage)、以及事件数据(data)",
                        "schema": {
                            "$ref": "#/definitions/common.PageVo"
                        }
                    },
                    "400": {
                        "description": "参数绑定失败",
                        "schema": {
                            "$ref": "#/definitions/common.CommonError"
                        }
                    },
                    "404": {
                        "description": "搜索数据失败",
                        "schema": {
                            "$ref": "#/definitions/common.CommonError"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "common.CommonError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "common.PageVo": {
            "description": "分页响应结构体包含分页信息",
            "type": "object",
            "properties": {
                "data": {
                    "description": "数据\n@json:\"data\"\n@Description 当前页的数据"
                },
                "pageNo": {
                    "description": "当前页码\n@json:\"pageNo\"\n@Description 当前页码",
                    "type": "integer"
                },
                "totalCount": {
                    "description": "总条数\n@json:\"totalCount,omitempty\"\n@Description 总记录数",
                    "type": "integer"
                },
                "totalPage": {
                    "description": "总页数\n@json:\"totalPage,omitempty\"\n@Description 总页数",
                    "type": "integer"
                }
            }
        },
        "model.EventPage": {
            "description": "该结构体用于指定事件分页查询时所需的参数。通过设置这些参数，可以灵活地获取符合条件的事件数据。",
            "type": "object",
            "properties": {
                "end": {
                    "description": "EndTime 事件的结束时间。\n以时间戳格式指定事件的截止筛选时间，应大于或等于 StartTime。\nin: query\nrequired: false\nexample: 1625334000",
                    "type": "integer"
                },
                "eventLike": {
                    "description": "EventLike 事件的模糊匹配关键词。\n通过关键词进行模糊搜索来进一步筛选事件。\nexample: \"error\"\nin: query",
                    "type": "string"
                },
                "eventType": {
                    "description": "EventType 指定要查询的事件类型。\n可选的类型包括 \"Critical\", \"Warning\", 或 \"Info\"。\nexample: \"Critical\"\nin: query",
                    "type": "string"
                },
                "nodeName": {
                    "description": "NodeName 节点名称。\n在查询类型为节点时使用，对应于节点列表中的 instanceName。\nexample: \"node-01\"\nin: query",
                    "type": "string"
                },
                "pageNo": {
                    "description": "PageNo 页码。\n指定请求的页码，页码从1开始。\nrequired: true\nin: query\nexample: 1",
                    "type": "integer"
                },
                "pageSize": {
                    "description": "PageSize 每页条数。\n指定每页返回的记录数。\nrequired: true\nin: query\nexample: 20",
                    "type": "integer"
                },
                "regionID": {
                    "description": "RegionID 指定事件所属区域的ID。\n此参数用于限定事件的地理或逻辑区域。\nrequired: true\nexample: \"/central//elasticsearch/\"\nin: query",
                    "type": "string"
                },
                "resourceGroupID": {
                    "description": "ResourceGroupID 指定事件所属资源组的ID。\n用于对事件进行组织和管理。\nrequired: true\nexample: \"rg-12345\"\nin: query",
                    "type": "string"
                },
                "sortType": {
                    "description": "SortType 排序类型。\n指定排序类型，默认按事件发生时间倒序。如不指定将使用默认排序。\nexample: false\nin: query",
                    "type": "boolean"
                },
                "start": {
                    "description": "StartTime 事件的开始时间。\n以时间戳格式指定事件的起始筛选时间。\nin: query\nrequired: false\nexample: 1625247600",
                    "type": "integer"
                },
                "taskID": {
                    "description": "TaskID 任务的ID。\n在查询类型为任务时使用，仅此时有效。\nexample: \"task-12345\"\nin: query",
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}